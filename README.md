# Chat Service with gRPC in Python

This project demonstrates a simple gRPC-based chat service implemented in Python. It includes a server and client that communicate using gRPC to exchange messages.

---

## **What is gRPC?**

**gRPC** (Google Remote Procedure Call) is a high-performance, open-source framework for building remote procedure call (RPC) APIs. It uses **Protocol Buffers (protobuf)** as the interface definition language (IDL) and supports features like:
- Bi-directional streaming.
- Strongly typed contracts between client and server.
- Cross-language compatibility.

---

## **Why Python?**

Python was chosen for its simplicity and extensive library support, making it ideal for quick prototyping and developing scalable gRPC services. Additionally:
- The **gRPC Python library** provides robust support for building RPC servers and clients.
- Python’s asynchronous capabilities align well with gRPC’s performance features.

---

## **Code Structure**

### **Server Code (`server.py`)**

- Implements a `ChatService` using `ChatServiceServicer` generated from the `.proto` file.
- Handles incoming requests and sends a response.
- Runs on port `50051` using a thread pool for concurrent request handling.

### **Proto File (`chat.proto`)**
Defines the gRPC service and the structure of messages exchanged.

```proto
syntax = "proto3";

service ChatService {
  rpc SendMessage (ChatRequest) returns (ChatResponse);
}

message ChatRequest {
  string user = 1;
  string message = 2;
}

message ChatResponse {
  string response = 1;
}
```

### **Generated Files**
- `chat_pb2.py`: Contains classes for the message types.
- `chat_pb2_grpc.py`: Contains classes to define the service stubs and server implementations.

---

## **Setup and Usage**

### **1. Clone the Repository**
```bash
git clone https://github.com/jdhidal/Use-gRPC.git
```

### **2. Install Dependencies**
Ensure you have Python 3.8+ and `pip` installed.

```bash
pip install grpcio grpcio-tools
```

### **3. Generate gRPC Code**
Compile the `chat.proto` file to generate Python code.

```bash
python -m grpc_tools.protoc -I. --python_out=. --grpc_python_out=. chat.proto
```

### **4. Run the Server**
Start the gRPC server to handle chat requests.

```bash
python server.py
```

### **5. Run the Client**
Create a gRPC client to send requests (example client implementation not included here).

---

## **How It Works**

1. **Server Setup:**
   - The `ChatService` class implements the `SendMessage` method defined in the `chat.proto` file.
   - The server listens on port `50051` and handles requests concurrently.

2. **Client Interaction:**
   - The client sends a `ChatRequest` message containing a user and a message.
   - The server responds with a `ChatResponse` message containing a custom reply.

3. **Scalability:**
   - The `ThreadPoolExecutor` enables handling multiple client requests efficiently.

---

## **Example Interaction**

### Request (Client):
```json
{
  "user": "Alice",
  "message": "Hello, server!"
}
```

### Response (Server):
```json
{
  "response": "Hello Alice, you said: Hello, server!"
}
```

---


## **Additional Notes**

- **Generated Files:** Do not manually edit `chat_pb2.py` or `chat_pb2_grpc.py`. They are automatically generated by the `protoc` compiler.
- **Best Practices:**
  - Use a virtual environment to manage dependencies.
  - Add `__pycache__` and `*_pb2*.py` to `.gitignore` if these files are generated during development.

